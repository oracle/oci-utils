.\" Process this file with
.\" groff -man -Tascii oci-public-ip.1
.\"
.\" Copyright (c) 2017, 2019 Oracle and/or its affiliates. All rights reserved.
.\" Licensed under the Universal Permissive License v 1.0 as shown
.\" at http://oss.oracle.com/licenses/upl.
.\"
.TH OCI-PUBLIC-IP 1 "MAY 2018" Linux "User Manuals"
.SH NAME
oci-public-ip \- display the public IP address of the system
.SH SYNOPSIS
.\" .B oci-public-ip [-h|--human-readable] [-j|--json] [-g|--get] [-a|--all] [-s
.B oci-public-ip [-h|--human-readable] [-j|--json] [-g|--get] [-s
.I SOURCEIP
.B | --sourceip
.I SOURCEIP
.B ] [-S
.I STUN_SERVER
.B | --stun-server
.I STUN_SERVER
.B ] [-L|--list-servers] [--instance-id
.I OCID
.B ] [--help]
.SH DESCRIPTION
The purpuse of the
.B oci-public-ip
utility is to print the public IP address of the current system.  While it was intended to be run on an compute instance in the Oracle Cloud Infrastructure, it works on any system that can connect to the Internet.  The oci-public-ip utility uses the STUN protocol, implemented by the pystun library.
.SH OPTIONS
.IP -h,\ --human-readable
(default) Print the public IP address in a form intended for humans.
.IP -j,\ --json
Print the public IP address(es) in JSON format, intended for scripting.
.IP -g,\ --get
Print the public IP address(es) (and nothing else) to the standard output.
Intended for scripting.
.\" .IP -a,\ --all
.\" Print all of the public IP addresses to the standard output.
.IP "-s SOURCEIP, --sourceip SOURCEIP"
Determine the public IP address that belongs to the
.B SOURCEIP
source IP address.
.IP "-s STUN_SERVER, --stun-server STUN_SERVER"
Use the given
.B STUN_SERVER
for finding the public IP of this host.  By default, pystun iterates through the list of known public STUN servers.  Use the
.I -L
or
.I --list-servers
option to print the list of STUN servers.
.IP -L,\ --list-servers
Print a list of known STUN servers.
.IP "--instance-id OCID"
Display the public IP address of the given instance
instead of the current one.
.IP --debug
Print diagnostic messages.
.IP --help
Print a summary of the command line options.
.SH DIAGNOSTICS
Return an exit status of 0 for success or 1 if the public IP address could not be determined.
.SH "SEE ALSO"
.BR oci-metadata (1),
.BR ocid (8),
.BR oci-utils.conf.d (5)
.BR https://tools.ietf.org/html/rfc5389
.BR https://pypi.python.org/pypi/pystun
